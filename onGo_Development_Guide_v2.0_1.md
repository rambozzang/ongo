# onGo - 크리에이터 멀티 플랫폼 관리 SaaS

## 기획 / 설계 / 개발 종합 가이드 v2.0

> **Version 2.0** | 2026.02  
> **Tech Stack**: Spring Boot 4.0.2 + Spring AI 2.x + jOOQ + PostgreSQL  
> **CONFIDENTIAL**

---

## 목차

1. 프로젝트 개요
2. 시장 분석 및 경쟁사 분석
3. 사용자 페르소나 및 유저 저니
4. 서비스 정책 및 비즈니스 룰
5. 화면 설계 - 공통 레이아웃
6. 화면 설계 - 회원가입/로그인
7. 화면 설계 - 대시보드
8. 화면 설계 - 영상 업로드
9. 화면 설계 - 예약 관리
10. 화면 설계 - 영상 관리 및 상세
11. 화면 설계 - 통합 분석
12. 화면 설계 - AI 크리에이터 어시스턴트
13. 화면 설계 - 채널 관리
14. 화면 설계 - 구독/결제 및 AI 크레딧
15. 화면 설계 - 설정
16. 시스템 아키텍처
17. 데이터베이스 설계
18. API 설계
19. Spring AI 통합 설계
20. 보안 설계
21. 인프라 및 배포
22. 개발 로드맵
23. 수익 모델 및 가격 전략
24. 마케팅 전략
25. 운영/모니터링
26. 리스크 관리

---

# 1. 프로젝트 개요

## 1.1 프로젝트 배경

한국 크리에이터 이코노미 시장은 2025년 기준 약 15조원 규모입니다. 활성 유튜버 50만 명, 틱톡 크리에이터 30만 명, 인스타그램 릴스 크리에이터 40만 명이 활동 중이며, 이 중 70% 이상이 2개 이상의 플랫폼에서 동시에 콘텐츠를 운영하고 있습니다.

**크리에이터의 일상적 고통:**

```
같은 영상을 유튜브, 틱톡, 인스타 릴스, 네이버 클립에
각각 로그인 → 각각 형식 맞춤 → 각각 업로드
→ 매일 30분~2시간 낭비
→ 플랫폼별 최적 제목/해시태그/시간이 전부 다름
→ 댓글/DM 관리도 플랫폼별로 따로
→ 분석 데이터도 파편화되어 성과 비교 불가
```

현재 한국 시장에는 이 문제를 해결하는 통합 도구가 없습니다. VidIQ/TubeBuddy는 유튜브 전용+영어 중심이고, Hootsuite/Buffer는 텍스트 SNS 중심으로 영상 크리에이터에 맞지 않으며, 네이버 클립 같은 한국 고유 플랫폼은 글로벌 도구에서 아예 지원하지 않습니다.

## 1.2 핵심 해결 과제

| 과제 | 현재 상황 | onGo 솔루션 |
|------|----------|---------------|
| 멀티플랫폼 업로드 | 각 플랫폼에 수동 로그인/업로드 반복 | 1회 업로드로 4개 플랫폼 동시 게시 |
| 메타데이터 최적화 | 제목/태그를 플랫폼별로 수동 작성 | Spring AI 기반 플랫폼별 자동 생성 |
| 성과 분석 파편화 | 각 플랫폼 스튜디오에서 따로 확인 | 통합 대시보드에서 비교 분석 |
| 예약 관리 불편 | 유튜브만 예약 가능, 나머지 수동 | 전 플랫폼 캘린더 기반 예약 |
| AI 도구 분산 | ChatGPT, Canva 등 여러 도구 | 내장 AI 어시스턴트 (크레딧제) |

## 1.3 서비스 한 줄 정의

> **onGo**: 크리에이터가 영상 하나를 올리면, AI가 각 플랫폼에 최적화된 제목/태그/설명을 생성하고, 유튜브/틱톡/인스타/네이버클립에 동시 게시하며, 모든 성과를 하나의 대시보드에서 보여주는 올인원 크리에이터 운영 도구. AI 기능은 Spring AI 기반 크레딧제로 운영.

## 1.4 기술 스택 요약

| 계층 | 기술 | 비고 |
|------|------|------|
| Backend | Spring Boot 4.0.2 + JDK 25 | Spring Framework 7, Virtual Thread, 모듈화 |
| AI | Spring AI 2.x (Anthropic/OpenAI) | ChatClient, STT, Structured Output |
| DB Access | jOOQ 3.19+ (단일 스택) | 타입세이프 SQL, Code Generation |
| Frontend | Vue.js 3 + Vite + Tailwind CSS | SPA, 반응형 |
| Database | PostgreSQL 16 | JSONB, 파티셔닝, Full Text Search |
| Cache | Caffeine (In-Process) | 로컬 캐시, Bucket4j Rate Limit |
| 비동기 처리 | Spring Events + Virtual Thread | 외부 MQ 없이 비동기 처리 |
| Storage | MinIO → AWS S3 | 영상/썸네일 파일 저장 |
| CI/CD | Jenkins + Docker + Gradle 9 | 자동 빌드/배포 |

---

# 2. 시장 분석 및 경쟁사 분석

## 2.1 시장 규모 (TAM/SAM/SOM)

| 구분 | 정의 | 추정 규모 |
|------|------|----------|
| TAM | 전체 크리에이터 이코노미 시장 | 약 15조원 (한국) |
| SAM | 크리에이터 도구/SaaS 시장 | 약 2,000억원 |
| SOM | 멀티플랫폼 관리 도구 시장 | 약 200억원 |
| 1차년도 목표 | SOM 중 점유율 | 약 5억원 (ARR) |

## 2.2 경쟁사 상세 비교

| 서비스 | 지원 플랫폼 | 한국어 | AI 기능 | 가격(월) | 핵심 한계 |
|--------|-----------|--------|---------|---------|----------|
| VidIQ | 유튜브만 | ✗ | 영어 SEO | $7.50~ | 틱톡/인스타 미지원 |
| TubeBuddy | 유튜브만 | ✗ | 키워드 분석 | $4.99~ | 유튜브 전용 |
| Later | 인스타/틱톡 | ✗ | 예약만 | $25~ | 영상 최적화 없음 |
| Hootsuite | 멀티 SNS | ✗ | 기본 | $99~ | 고가, 크리에이터 특화 아님 |
| Buffer | 멀티 SNS | ✗ | 기본 | $6~ | 분석 약함, 영상 약함 |
| **onGo** | **YT/TT/IG/NV** | **✓** | **Spring AI** | **9,900원~** | 신규 서비스 |

## 2.3 SWOT 분석

| 구분 | 내용 |
|------|------|
| **Strengths** | 26년 백엔드 역량, Spring Boot 4 + jOOQ + Spring AI 전문성, 한국 시장 이해 |
| **Weaknesses** | 1인 개발 한계, 프론트엔드 상대적 약점, 초기 인지도 부재 |
| **Opportunities** | 한국 크리에이터 급증, 네이버 클립 신규 진입, AI 도구 수요 폭발 |
| **Threats** | 글로벌 SaaS 한국 진출, 플랫폼 API 정책 변경, 크리에이터 도구 포화 |

---

# 3. 사용자 페르소나 및 유저 저니

## 3.1 주요 페르소나

### 페르소나 A: 김하늘 (28세, 뷰티 크리에이터)

| 항목 | 내용 |
|------|------|
| 구독자 | 유튜브 15만, 틱톡 8만, 인스타 5만 |
| 수입 | 월 광고 300만 + 협찬 200만 |
| 고충 | 매일 3개 플랫폼에 같은 영상을 따로 업로드. 주 7시간 낭비 |
| 니즈 | 한 번에 업로드 + 각 플랫폼별 성과 비교 |
| AI 니즈 | 플랫폼별 최적 제목/태그 자동 생성, 썸네일 아이디어 |
| 예산 | 기본 구독 2만원 + AI 크레딧 월 1만원 추가 가능 |

### 페르소나 B: 이정민 (35세, 먹방/맛집 크리에이터)

| 항목 | 내용 |
|------|------|
| 구독자 | 유튜브 50만, 틱톡 20만 |
| 수입 | 월 1,500만원 (광고+협찬+커머스) |
| 고충 | 댓글/DM 관리 불가능, 협찬 문의 놓침, 분석 데이터 파편화 |
| 니즈 | 통합 소통 관리 + AI 댓글 답변 자동화 |
| AI 니즈 | AI로 댓글 자동 답변 초안, 콘텐츠 성과 예측 |
| 예산 | 월 5만원 이상 (AI 크레딧 포함) |

### 페르소나 C: 박서준 (42세, 인테리어 소상공인)

| 항목 | 내용 |
|------|------|
| 구독자 | 유튜브 2만, 틱톡 1만 |
| 수입 | 영상 문의 유입으로 월 매출 2,000만 |
| 고충 | 편집 후 업로드/관리까지 신경 쓸 시간 없음 |
| 니즈 | 최대한 자동화, 최소 시간 투자 |
| AI 니즈 | 영상 스크립트에서 자동 제목/설명 생성 |
| 예산 | 월 1~2만원 (AI 크레딧 최소) |

## 3.2 유저 저니 맵

| 단계 | 사용자 행동 | 감정 | 터치포인트 | 핵심 전환 지표 |
|------|-----------|------|----------|-------------|
| 인지 | 유튜브/블로그에서 onGo 발견 | 호기심 | SEO/커뮤니티 | 유입 수 |
| 가입 | 구글/카카오 소셜 로그인 | 기대감 | 랜딩 페이지 | 가입 전환율 |
| 온보딩 | 채널 연동 가이드 3단계 | 약간 불안→안심 | 온보딩 위저드 | 연동 완료율 |
| 첫 업로드 | 영상 1개→3플랫폼 동시 게시 | 놀라움+만족 | 업로드 화면 | 첫 게시 전환율 |
| AI 체험 | AI 제목/태그 생성 체험 | 유용함 | AI 어시스턴트 | AI 사용률 |
| 반복 사용 | 매일 예약 업로드 활용 | 편리함 | 캘린더 뷰 | DAU/MAU |
| 유료 전환 | 무료 한도 초과→결제 | 가치 확인 | 결제 페이지 | 유료 전환율 |
| AI 크레딧 구매 | AI 무료 한도 초과→추가 충전 | 비용 대비 가치 | 크레딧 충전 | ARPU 증가 |
| 충성 | 주변 크리에이터에게 추천 | 자부심 | 추천 프로그램 | NPS/추천율 |

---

# 4. 서비스 정책 및 비즈니스 룰

## 4.1 회원 등급 및 권한 매트릭스

| 항목 | Free | Starter (9,900원) | Pro (19,900원) | Business (49,900원) |
|------|------|-------------------|----------------|-------------------|
| 연동 플랫폼 | 1개 | 3개 | 4개 | 4개 + API |
| 월 업로드 | 5건 | 30건 | 100건 | 무제한 |
| 예약 업로드 | ✗ | 7일 이내 | 30일 | 90일 |
| 분석 기간 | 7일 | 30일 | 1년 | 전체 |
| 영상 보관 | 1GB | 10GB | 50GB | 200GB |
| 댓글 관리 | ✗ | ✗ | ✓ | ✓ |
| 팀 멤버 | ✗ | ✗ | 2명 | 10명 |
| AI 크레딧 (무료/월) | 30 | 100 | 300 | 1,000 |
| 지원 | 커뮤니티 | 이메일 | 우선 이메일 | 전담 매니저 |

## 4.2 AI 크레딧 시스템

> **⚠️ 핵심 수익 모델**: onGo의 AI 기능(제목 생성, 태그 추천, 스크립트 분석, 댓글 자동 답변 등)은 Spring AI를 통해 외부 LLM API(Anthropic/OpenAI)를 호출하므로 **실제 비용이 발생**합니다. 이를 **AI 크레딧**으로 추상화하여, 기본 구독에 포함된 무료 크레딧 + 추가 구매 방식으로 운영합니다.

### AI 기능별 크레딧 소모

| AI 기능 | 소모 크레딧 | 설명 |
|---------|-----------|------|
| 제목/설명 생성 | 5 크레딧 | 1개 영상 기준 4개 플랫폼 제목 5안 + 설명 + 태그 30개 |
| 해시태그 추천 | 3 크레딧 | 트렌드 기반 플랫폼별 해시태그 30개 |
| 영상 STT 변환 | 10 크레딧 | 영상 음성→텍스트 변환 (10분 기준) |
| 스크립트 분석 | 5 크레딧 | 핵심 키워드, 타겟 시청자, 카테고리 추출 |
| 댓글 자동 답변 | 2 크레딧/건 | 정중/친근/유머 3가지 톤 답변 초안 |
| 업로드 시간 추천 | 3 크레딧 | 채널 데이터 기반 요일별 최적 시간 + 근거 |
| 콘텐츠 아이디어 | 5 크레딧 | 트렌드 기반 다음 영상 주제 5개 + 예상 반응 |
| 성과 리포트 AI 요약 | 8 크레딧 | 주간/월간 성과 AI 인사이트 리포트 |

### AI 크레딧 충전 패키지

| 패키지 | 크레딧 | 가격 | 크레딧당 단가 | 유효기간 |
|--------|-------|------|-------------|---------|
| 스타터 팩 | 500 | 4,900원 | 9.8원 | 30일 |
| 베이직 팩 | 1,200 | 9,900원 | 8.3원 | 60일 |
| 프로 팩 | 3,000 | 19,900원 | 6.6원 | 90일 |
| 비즈니스 팩 | 10,000 | 49,900원 | 5.0원 | 180일 |

### 크레딧 차감 순서

1. **무료 크레딧 우선 차감** (매월 1일 리셋)
2. **구매 크레딧 차감** (만료 임박순, FIFO)
3. **전체 소진 시** → AI 기능 비활성 + 충전 유도 모달
4. **잔여 20% 이하 시** → 알림 발송 (이메일/푸시)

> ⚠️ **비즈니스 룰**: 크레딧 소진 시 AI 기능만 비활성화됩니다. 업로드/예약/분석 등 비-AI 기능은 정상 동작합니다.

## 4.3 플랫폼별 업로드 정책

| 플랫폼 | 최대 파일 | 영상 길이 | 해상도 | 제목 글자수 | 설명 글자수 |
|--------|---------|---------|--------|-----------|-----------|
| YouTube | 256GB | 12시간 | 최대 8K | 100자 | 5,000자 |
| TikTok | 4GB | 10분 | 최대 4K | 150자 | 2,200자 |
| Instagram Reels | 4GB | 15분 | 1080x1920 | 2,200자(캡션) | 캡션에 포함 |
| Naver Clip | 2GB | 5분 | 1080x1920 | 100자 | 1,000자 |

## 4.4 영상 파일 처리 정책

| 항목 | 정책 |
|------|------|
| 지원 포맷 | MP4, MOV, AVI, MKV, WebM |
| 최대 업로드 크기 | 2GB (Phase 1), 4GB (Phase 2) |
| 자동 리사이즈 | 원본 보존 + 플랫폼별 최적 해상도 자동 변환 (16:9→9:16) |
| 썸네일 | 영상에서 자동 추출 3장 + 수동 업로드 가능 |
| 업로드 방식 | **Tus Protocol** (Resumable Upload - 대용량 안정적 전송) |
| 보관 기간 | Free: 30일, Starter: 90일, Pro/Business: 영구 |
| 중복 검사 | 동일 해시값 영상 중복 업로드 방지 경고 |

---

# 5. 화면 설계 - 공통 레이아웃

## 5.1 전체 레이아웃 구조

```
┌────────────────────────────────────────────────────────────┐
│  Top Bar: 로고 | 글로벌 검색 | AI크레딧 잔여 | 알림 | 프로필  │
├──────────┬─────────────────────────────────────────────────┤
│          │                                                 │
│ Side Nav │              Main Content Area                  │
│          │                                                 │
│ 🏠 대시보드 │  (각 페이지 콘텐츠가 여기에 렌더링)              │
│ ⬆ 업로드   │                                                │
│ 📅 예약관리 │                                                │
│ 🎬 영상관리 │                                                │
│ 📊 분석    │                                                │
│ ✨ AI도구  │                                                │
│ 🔗 채널관리 │                                                │
│ ────────  │                                                │
│ 💳 구독/결제│                                                │
│ ⚙ 설정    │                                                │
│          │                                                 │
├──────────┴─────────────────────────────────────────────────┤
│  (Mobile: Bottom Navigation - 대시보드/업로드/예약/분석/더보기) │
└────────────────────────────────────────────────────────────┘
```

## 5.2 Top Bar 상세

| 요소 | 위치 | 동작 | 비고 |
|------|------|------|------|
| onGo 로고 | 좌측 | 클릭 시 대시보드 이동 | |
| 글로벌 검색 | 중앙 | 영상 제목/태그 검색 | 자동완성 지원 |
| AI 크레딧 잔여 | 우측 | 잔여 크레딧 숫자 표시 + 클릭 시 충전 모달 | **20% 이하 시 빨간색 경고** |
| 알림 벨 | 우측 | 업로드 완료/실패, 댓글 알림 드롭다운 | 안읽은 개수 뱃지 |
| 프로필 아바타 | 최우측 | 클릭 시 드롭다운 (프로필, 설정, 로그아웃) | 현재 플랜 뱃지 |

## 5.3 반응형 브레이크포인트

| 구분 | 너비 | 레이아웃 변화 |
|------|------|-------------|
| Desktop | > 1280px | 사이드바(240px) + 메인 콘텐츠 |
| Tablet | 768~1280px | 사이드바 접힘(아이콘만 60px) + 메인 |
| Mobile | < 768px | 사이드바 숨김, 하단 탭바 5개 |

---

# 6. 화면 설계 - 회원가입/로그인

## 6.1 로그인 화면 (`/login`)

| 요소 | 설명 |
|------|------|
| 화면 구성 | 좌측: onGo 소개 이미지 + 캐치프레이즈, 우측: 로그인 폼 |
| Google 로그인 버튼 | Google OAuth 2.0, 아이콘+텍스트 버튼 |
| Kakao 로그인 버튼 | 카카오 노란색 버튼, 국내 사용자 친화 |
| 하단 안내 | '가입 시 이용약관 및 개인정보처리방침에 동의합니다' 링크 |
| 비회원 체험 | '둘러보기' 링크 → 데모 대시보드 접근 가능 |

### 로그인 비즈니스 로직

- 소셜 로그인만 지원 (이메일/비밀번호 ✗) → 관리 부담 최소화
- 최초 로그인 시 자동 회원가입 (별도 가입 플로우 없음)
- JWT 발급: Access Token 30분, Refresh Token 7일
- 로그인 후: 최초 사용자 → 온보딩 위저드, 기존 사용자 → 대시보드

## 6.2 온보딩 위저드 (최초 로그인 시)

| 단계 | 화면 | 설명 | 필수 |
|------|------|------|------|
| Step 1 | 프로필 설정 | 닉네임 입력, 크리에이터 카테고리 선택 (뷰티/먹방/게임/일상/교육/IT/여행/음악 등) | **필수** |
| Step 2 | 채널 연동 | YouTube/TikTok/Instagram 중 **최소 1개** OAuth 연동. 각 플랫폼 로고 카드로 표시 | **필수(1개)** |
| Step 3 | AI 체험 | 샘플 영상으로 AI 제목/태그 생성 체험 (무료 크레딧 사용). 생성 결과 미리보기 | 선택 |
| 완료 | 환영 화면 | '첫 영상 업로드하기' CTA 버튼 + 대시보드 진입 | |

---

# 7. 화면 설계 - 대시보드 (`/dashboard`)

## 7.1 대시보드 레이아웃

```
┌─────────────────────────────────────────────────────────┐
│  요약 카드 4개 (가로 배치)                                │
│  ┌───────────┐ ┌───────────┐ ┌──────────┐ ┌──────────┐ │
│  │ 총 조회수  │ │ 총 구독자  │ │ 총 좋아요 │ │AI크레딧  │ │
│  │  125.4K   │ │   83.2K   │ │  12.1K   │ │ 247/300  │ │
│  │  ↑23.5%   │ │  +1,234   │ │  ↑15.2%  │ │ ████░░░  │ │
│  └───────────┘ └───────────┘ └──────────┘ └──────────┘ │
├────────────────────────────────┬────────────────────────┤
│  조회수 트렌드 차트 (7일/30일)  │  플랫폼별 비교 파이차트 │
│  ─── 전체  ─── YouTube        │    🔴 YT 45%          │
│  ─── TikTok ─── Instagram     │    ⚫ TT 30%          │
│  (Line Chart, Chart.js)       │    🟣 IG 15%          │
│                               │    🟢 NV 10%          │
├────────────────────────────────┼────────────────────────┤
│  최근 업로드 영상 (5건)         │  예약 업로드 일정 (3건) │
│  ┌───┐                        │                        │
│  │ □ │ 겨울 메이크업  12.5K    │  📅 2/10 18:00        │
│  │ □ │ 먹방 브이로그  8.3K     │     봄 패션 하울        │
│  │ □ │ 일상 브이로그  5.1K     │  📅 2/11 20:00        │
│  └───┘                        │     제품 리뷰           │
│  [전체 보기 →]                 │  [캘린더 보기 →]        │
└────────────────────────────────┴────────────────────────┘
```

## 7.2 요약 카드 상세

| 카드 | 표시 데이터 | 부가 정보 | 클릭 동작 |
|------|-----------|---------|---------|
| 총 조회수 | 최근 7일 전 플랫폼 합계 | 전주 대비 증감률 (↑↓ + %) | → `/analytics` |
| 총 구독자 | 전 플랫폼 구독자 합계 | 전주 대비 증감 수 | → `/channels` |
| 총 좋아요 | 최근 7일 좋아요 합계 | 전주 대비 증감률 | → `/analytics` |
| AI 크레딧 잔여 | 현재 잔여 / 월 전체 | 프로그레스바 (**20% 이하 빨간색**) | → `/subscription` |

## 7.3 조회수 트렌드 차트

| 항목 | 상세 |
|------|------|
| 차트 유형 | Line Chart (Chart.js) |
| X축 | 날짜 (7일/30일 토글 버튼) |
| Y축 | 조회수 |
| 데이터 시리즈 | 전체 합계(실선) + 플랫폼별 라인 (유튜브:빨강, 틱톡:검정, 인스타:보라, 네이버:초록) |
| 인터랙션 | 마우스 호버 시 툴팁(날짜, 플랫폼별 수치), 범례 클릭 시 해당 라인 토글 |
| 데이터 소스 | `analytics_daily` 테이블 집계 쿼리 (jOOQ), Caffeine 캐시 5분 |

## 7.4 최근 업로드 영상 목록

| 컬럼 | 표시 | 비고 |
|------|------|------|
| 썸네일 | 60x34px 이미지 | 영상에서 자동 추출 |
| 제목 | 영상 제목 (클릭 시 상세 이동) | 말줄임 처리 (max 40자) |
| 플랫폼 상태 | 아이콘 뱃지 (YT✓ TT✓ IG✗ NV✓) | 각 플랫폼별 업로드 성공/실패 |
| 조회수 | 전 플랫폼 합계 | 1시간 캐시 |
| 업로드 일시 | 상대 시간 (3시간 전) | 호버 시 절대 시간 표시 |
| 더보기 | `...` 메뉴 | 삭제, 재업로드, 분석 보기 |

---

# 8. 화면 설계 - 영상 업로드 (`/upload`)

## 8.1 3단계 업로드 플로우

```
Step Indicator: [① 파일 선택] ──→ [② 메타 입력] ──→ [③ 플랫폼 게시]
```

### Step 1: 파일 업로드

```
┌─────────────────────────────────────────────────────┐
│                                                     │
│        📁 드래그 & 드롭 또는 클릭하여 파일 선택         │
│                                                     │
│        MP4, MOV, AVI, MKV, WebM | 최대 2GB          │
│                                                     │
│   ████████████████████░░░░░░  67%  45MB/s  남은 32초  │
│                                                     │
└─────────────────────────────────────────────────────┘
```

| 항목 | 상세 |
|------|------|
| 업로드 방식 | **Tus Protocol (Resumable)** - 네트워크 끊김 시 이어받기 |
| 프로그레스 | 퍼센트(%) + 전송 속도(MB/s) + 남은 시간 |
| 파일 검증 | 확장자 → MIME 타입 → 파일 크기 (클라이언트+서버 **이중 검증**) |
| 에러 처리 | 미지원 포맷 → 안내, 용량 초과 → 플랜 업그레이드 유도 |
| 백그라운드 처리 | 업로드 완료 후: 썸네일 3장 자동 추출 + 영상 메타(길이/해상도) 파싱 |
| 이탈 방지 | 브라우저 탭 이동 시 경고, 새로고침 시 이어받기 |

### Step 2: 메타데이터 입력

```
┌───────────────────────┬────────────────────────────────┐
│                       │                                │
│   영상 프리뷰          │  제목 *                        │
│   ┌─────────────┐    │  [겨울 데일리 메이크업          ]│
│   │             │    │                                │
│   │  ▶ 12:34   │    │  설명                           │
│   │             │    │  [오늘은 겨울 건성 피부를 위한   ]│
│   └─────────────┘    │  [메이크업을 준비했어요...       ]│
│                       │                                │
│   썸네일 선택:         │  태그 (자동완성)                 │
│   [□1] [□2] [☑3]     │  [#겨울메이크업] [#데일리] [+]   │
│   [직접 업로드]        │                                │
│                       │  카테고리 *                     │
│                       │  [뷰티 ▾]                      │
│                       │                                │
│                       │  ┌────────────────────────┐    │
│                       │  │ ✨ AI 자동 생성 (5 크레딧)│    │
│                       │  └────────────────────────┘    │
│                       │  ☐ 영상 STT 사용 (+10 크레딧)   │
└───────────────────────┴────────────────────────────────┘
```

| 필드 | 유형 | 유효성 검사 | AI 연동 |
|------|------|-----------|--------|
| 제목 | 텍스트 (1줄) | 필수, 1~100자 | AI 생성 → 5개 후보 제시 |
| 설명 | 텍스트 (여러줄) | 선택, 최대 5,000자 | AI 생성 → 플랫폼별 최적 길이 |
| 태그 | 태그 인풋 (칩) | 최대 30개 | AI 추천 → 클릭으로 추가 |
| 카테고리 | 드롭다운 | 필수 선택 | 영상 내용 기반 자동 추천 |
| 썸네일 | 이미지 선택/업로드 | JPG/PNG, 최대 5MB | 자동 추출 3장 중 선택 |
| 공개 설정 | 라디오 | 기본: 공개 | 플랫폼별 다른 설정 가능 |

### AI 자동 생성 플로우 (제목/설명/태그)

```
[AI 자동 생성] 클릭
    ↓
크레딧 잔여 확인 (5 크레딧 필요)
    ↓ 부족                    ↓ 충분
충전 유도 모달              STT 옵션 확인
                               ↓ STT 사용 시: +10 크레딧 차감
                               ↓ 스크립트 직접 입력 시: 생략
                           Spring AI ChatClient 호출
                               ↓
                           플랫폼별 결과 생성:
                           - 제목 5개 후보 (플랫폼별)
                           - 설명 (플랫폼별 글자수 맞춤)
                           - 해시태그 30개
                               ↓
                           각 탭에 자동 적용 (수정 가능)
                               ↓
                           크레딧 차감 + Top Bar 잔여 갱신
```

### Step 3: 플랫폼 선택 및 게시

```
┌──────────────────────────────────────────────────────────┐
│  게시할 플랫폼 선택:                                       │
│                                                          │
│  ┌──────────┐ ┌──────────┐ ┌──────────┐ ┌────────────┐  │
│  │ ▶ YT  ✓ │ │ ♪ TT  ✓ │ │ 📷 IG ✓ │ │ 🟢 NV  ✓  │  │
│  │ 연동됨   │ │ 연동됨   │ │ 연동됨   │ │ [연동하기]  │  │
│  └──────────┘ └──────────┘ └──────────┘ └────────────┘  │
│                                                          │
│  플랫폼별 편집: [YouTube] [TikTok] [Instagram] [Naver]    │
│  ┌──────────────────────────────────────────────────┐    │
│  │ YouTube 제목: [❄️ 겨울 촉촉 메이크업 | 건성 필수템]  │    │
│  │ YouTube 설명: [안녕하세요! 오늘은 겨울 건성 피부...]  │    │
│  │ YouTube 태그: [#겨울메이크업] [#건성피부] [...]       │    │
│  └──────────────────────────────────────────────────┘    │
│                                                          │
│  ☐ 9:16 세로 자동 변환 (틱톡/인스타/네이버)                 │
│                                                          │
│  ┌─────────────────┐ ┌──────────────────────────────┐   │
│  │  즉시 게시  ▶    │ │ 📅 예약 게시                  │   │
│  └─────────────────┘ │ 날짜: [2026-02-10]            │   │
│                      │ 시간: [18:00]                  │   │
│                      │ 💡 AI 추천: 화 18:00 (3크레딧)  │   │
│                      └──────────────────────────────┘   │
└──────────────────────────────────────────────────────────┘
```

| 기능 | 상세 |
|------|------|
| 플랫폼 토글 | 연동된 플랫폼만 활성화, 미연동 플랫폼은 '연동하기' 링크 |
| 플랫폼별 편집 탭 | YouTube / TikTok / Instagram / Naver 탭으로 전환 |
| 자동 적용 | 공통 제목/설명에서 플랫폼별 글자수 제한에 맞게 자동 잘림 |
| 수동 오버라이드 | 탭에서 플랫폼별 제목/설명을 **개별 수정 가능** |
| 영상 자동 변환 | 16:9 원본 → 9:16 자동 변환 (틱톡/인스타/네이버) 옵션 |
| 즉시 게시 | 선택 플랫폼에 바로 업로드. 플랫폼별 프로그레스 표시 |
| 예약 게시 | 날짜/시간 피커 + AI 추천 시간 표시 + 플랫폼별 다른 시간 가능 |

## 8.2 게시 프로세스 상태 흐름

```
DRAFT → UPLOADING → [플랫폼별 상태]
                     ├─ YouTube:   UPLOADING → PROCESSING → PUBLISHED / FAILED
                     ├─ TikTok:    UPLOADING → REVIEW → PUBLISHED / REJECTED
                     ├─ Instagram: UPLOADING → PUBLISHED / FAILED
                     └─ Naver:     UPLOADING → PUBLISHED / FAILED

상태별 UI 표시:
  DRAFT      → 회색 뱃지 '임시저장'
  UPLOADING  → 파란 프로그레스바 + 퍼센트
  PROCESSING → 노란 뱃지 '처리중' (유튜브 인코딩 대기)
  REVIEW     → 노란 뱃지 '검토중' (틱톡 심사 대기)
  PUBLISHED  → 초록 뱃지 '게시완료' + 플랫폼 링크
  FAILED     → 빨간 뱃지 '실패' + 에러 메시지 + [재시도] 버튼
  REJECTED   → 빨간 뱃지 '반려' + 사유 표시
```

---

# 9. 화면 설계 - 예약 관리 (`/schedule`)

## 9.1 캘린더 뷰

| 항목 | 상세 |
|------|------|
| 뷰 전환 | **월간 / 주간 / 리스트** 뷰 토글 버튼 |
| 월간 뷰 | 달력 그리드에 예약된 영상 썸네일+제목 표시. 날짜 클릭 시 해당 일 예약 목록 |
| 주간 뷰 | 시간축 타임라인. 플랫폼별 색상으로 게시 시간 표시 |
| 리스트 뷰 | 테이블 형태: 날짜/시간/제목/플랫폼/상태 컬럼 |
| 드래그&드롭 | 월간/주간 뷰에서 예약 일정을 드래그하여 **날짜/시간 변경** |
| 빠른 예약 추가 | 날짜 셀 클릭 → 미니 폼 (영상 선택/시간/플랫폼) 팝오버 |
| AI 추천 표시 | '이 시간대에 게시하면 조회수 20% 증가 예상' 가이드 (**3 크레딧**) |
| 필터 | 플랫폼별 필터, 상태별 필터 (예약됨/게시완료/실패) |

## 9.2 예약 상세/편집 모달

| 필드 | 설명 | 편집 |
|------|------|------|
| 영상 프리뷰 | 썸네일 + 영상 길이 | ✗ |
| 게시 일시 | 날짜/시간 피커 | ✓ |
| 플랫폼 선택 | 체크박스 (각 플랫폼 토글) | ✓ |
| 플랫폼별 시간 | 개별 시간 설정 토글 (기본: 동일 시간) | ✓ |
| 제목/설명 | 플랫폼별 탭으로 편집 | ✓ |
| 상태 | 예약됨/게시완료/실패/취소됨 | ✗ |
| 예약 취소 | 빨간 버튼 + 확인 모달 | ✓ |

---

# 10. 화면 설계 - 영상 관리 (`/videos`)

## 10.1 영상 목록

| 항목 | 상세 |
|------|------|
| 정렬 | 최신순(기본), 조회수순, 좋아요순 |
| 필터 | 플랫폼 (전체/YT/TT/IG/NV), 상태 (전체/게시/예약/임시), 기간 |
| 뷰 모드 | 그리드(카드) / 리스트(테이블) **토글** |
| 그리드 카드 | 썸네일(16:9) + 제목 + 조회수 + 게시일 + 플랫폼 아이콘 |
| 리스트 행 | 썸네일(소) \| 제목 \| 플랫폼 상태 \| 조회수 \| 좋아요 \| 게시일 \| 메뉴 |
| 일괄 선택 | 체크박스로 다중 선택 → 일괄 삭제 / 일괄 재업로드 |
| 검색 | 제목/태그 키워드 검색 (debounce 300ms) |
| 페이지네이션 | 무한 스크롤 (Intersection Observer) 또는 페이지 버튼 토글 |

## 10.2 영상 상세 (`/videos/:id`)

```
┌──────────────────────┬─────────────────────────────────┐
│  영상 프리뷰 플레이어  │  기본 정보                       │
│  ┌────────────────┐  │  📅 업로드일: 2026-02-08 14:30   │
│  │                │  │  ⏱ 길이: 12:34                  │
│  │    ▶ 12:34    │  │  📁 파일: 456MB                  │
│  │                │  │  📂 카테고리: 뷰티                │
│  └────────────────┘  │  🏷 태그: #메이크업 #데일리 #겨울  │
│                      │  [편집] [삭제] [재업로드]          │
├──────────────────────┴─────────────────────────────────┤
│                                                        │
│  플랫폼별 성과: [YouTube] [TikTok] [Instagram] [Naver]  │
│                                                        │
│  ┌──────────┐ ┌──────────┐ ┌──────────┐ ┌──────────┐  │
│  │ 조회수   │ │ 좋아요   │ │ 댓글     │ │ 공유     │  │
│  │  12.5K   │ │   834    │ │   56     │ │   23     │  │
│  │  ↑23%    │ │  ↑15%    │ │  ↑8%     │ │  ↑12%    │  │
│  └──────────┘ └──────────┘ └──────────┘ └──────────┘  │
│                                                        │
│  [일별 조회수 추이 Line Chart]                           │
│  [플랫폼 간 비교 Grouped Bar Chart]                      │
│                                                        │
├────────────────────────────────────────────────────────┤
│  최근 댓글 (Phase 2)                                    │
│  ┌────────────────────────────────────────────────┐    │
│  │ 👤 user123: "너무 예쁘다!! 이 제품 뭐에요?"       │    │
│  │ 🟢 YouTube | 2시간 전 | [AI답변] [수동답변] [숨김] │    │
│  └────────────────────────────────────────────────┘    │
└────────────────────────────────────────────────────────┘
```

---

# 11. 화면 설계 - 통합 분석 (`/analytics`)

## 11.1 분석 대시보드

| 섹션 | 차트 유형 | 표시 데이터 | 인터랙션 |
|------|---------|-----------|---------|
| 전체 개요 | KPI 카드 4개 | 조회수/구독자/좋아요/수익 | 기간 선택 (7/30/90일) |
| 조회수 트렌드 | Line Chart | 일별 조회수 × 플랫폼별 | 플랫폼 필터, 줌인 |
| 플랫폼 비교 | Grouped Bar Chart | 플랫폼별 조회/좋아요/댓글 | 마우스 호버 상세 |
| Top 영상 | 테이블 | 조회수 상위 10개 영상 | 기간/플랫폼 필터 |
| 구독자 증감 | Area Chart | 일별 구독자 변화 | 플랫폼별 분리 |
| 업로드 시간 분석 | Heatmap | 요일 × 시간대 조회수 분포 | 최적 시간 하이라이트 |
| AI 인사이트 | 텍스트 카드 | AI가 분석한 주간 인사이트 | **8 크레딧 소모** |

## 11.2 AI 인사이트 리포트 (8 크레딧)

| 항목 | 내용 |
|------|------|
| 생성 주기 | 수동 생성 (버튼 클릭) 또는 주 1회 자동 (Pro 이상) |
| 리포트 내용 | 이번 주 성과 요약, 잘 된 영상 분석, 개선점, 다음 주 추천 주제 |
| 데이터 입력 | `analytics_daily` 최근 7일 데이터 → Spring AI ChatClient |
| 출력 형식 | 마크다운 카드 표시 + PDF 다운로드 옵션 |
| 예시 | "틱톡 쇼츠가 유튜브 대비 3배 조회수를 기록했습니다. 다음 주는 15초 이내 숏폼에 집중하세요." |

---

# 12. 화면 설계 - AI 크리에이터 어시스턴트 (`/ai`)

> **ℹ️ Spring AI 기반 구현**: 모든 AI 기능은 Spring AI 2.x의 ChatClient를 통해 구현됩니다. Anthropic Claude와 OpenAI를 Provider로 사용하며, Structured Output으로 JSON 응답을 받아 UI에 표시합니다.

## 12.1 AI 도구 목록

| AI 도구 | 경로 | 소모 크레딧 | 입력 | 출력 |
|---------|------|-----------|------|------|
| 제목/설명 생성 | `/ai/meta` | 5 | 영상 파일 또는 스크립트 | 플랫폼별 제목 5안 + 설명 + 태그 30개 |
| 해시태그 추천 | `/ai/hashtags` | 3 | 제목 + 카테고리 | 트렌드 기반 해시태그 30개 (플랫폼별) |
| 영상 STT 변환 | `/ai/stt` | 10 | 영상 파일 (최대 30분) | 타임스탬프 포함 텍스트 |
| 스크립트 분석 | `/ai/script` | 5 | 텍스트 스크립트 | 핵심 키워드, 타겟 시청자, 카테고리 |
| 댓글 답변 생성 | `/ai/reply` | 2/건 | 댓글 원문 + 채널 톤 | 정중/친근/유머 3가지 답변 초안 |
| 업로드 시간 추천 | `/ai/schedule` | 3 | 채널 데이터 | 요일별 최적 시간 + 근거 |
| 콘텐츠 아이디어 | `/ai/idea` | 5 | 카테고리 + 최근 영상 | 다음 영상 주제 5개 + 예상 반응 |
| 성과 리포트 | `/ai/report` | 8 | 최근 7~30일 분석 데이터 | 인사이트 리포트 (마크다운) |

## 12.2 제목/설명 생성 화면 (`/ai/meta`)

```
┌─────────────────────────────────────────────────────────┐
│  ✨ AI 제목/설명 생성기                잔여 크레딧: 247    │
├─────────────────────────────────────────────────────────┤
│                                                         │
│  입력 방식: (● 스크립트 직접 입력) (○ 영상에서 STT 추출)    │
│                                                         │
│  ☐ 영상 STT 사용 (추가 10 크레딧)                        │
│                                                         │
│  스크립트:                                               │
│  ┌─────────────────────────────────────────────────┐    │
│  │ 안녕하세요! 오늘은 겨울 건성 피부를 위한            │    │
│  │ 데일리 메이크업을 해볼게요. 먼저 수분크림으로...     │    │
│  └─────────────────────────────────────────────────┘    │
│                                                         │
│  타겟 플랫폼: ☑ YouTube  ☑ TikTok  ☑ Instagram  ☐ Naver │
│  톤 앤 매너: [친근한 ▾]     카테고리: [뷰티 ▾]            │
│                                                         │
│  ┌─────────────────────────────┐                        │
│  │  ✨ 생성하기 (5 크레딧)      │  ← 강조 버튼            │
│  └─────────────────────────────┘                        │
├─────────────────────────────────────────────────────────┤
│  📋 생성 결과                                            │
│                                                         │
│  ▸ YouTube 제목 후보 (라디오 선택):                       │
│    ○ 1. "겨울 데일리 메이크업 5분 완성! 건조한 피부 꿀팁"   │
│    ○ 2. "직장인 겨울 메이크업 루틴 | 3가지만 바꾸면 끝"     │
│    ● 3. "❄️ 겨울 촉촉 메이크업 | 건성 피부 필수템 공개"    │
│    ○ 4. "겨울 출근 메이크업 A to Z | 수분 베이스 비법"      │
│    ○ 5. "피부 안 당기는 겨울 메이크업 | 건성 피부 루틴"     │
│                                                         │
│  ▸ TikTok 제목 후보: (동일 구조, 150자 맞춤)              │
│  ▸ Instagram 캡션 후보: (동일 구조, 2200자 맞춤)          │
│                                                         │
│  ▸ 공통 해시태그 (30개):                                  │
│    [#겨울메이크업] [#데일리] [#건성피부] [#촉촉메이크업]     │
│    [#뷰티팁] [#메이크업루틴] ... [+24개 더보기]            │
│                                                         │
│  ┌──────────────────┐ ┌──────────────────────────┐      │
│  │ 선택 항목 적용하기 │ │ 다시 생성 (5 크레딧)      │      │
│  └──────────────────┘ └──────────────────────────┘      │
└─────────────────────────────────────────────────────────┘
```

## 12.3 크레딧 부족 시 처리 모달

```
┌───────────────────────────────────────┐
│  ⚠️ AI 크레딧이 부족합니다              │
│                                       │
│  현재 잔여: 2 크레딧                    │
│  필요: 5 크레딧 (제목/설명 생성)         │
│                                       │
│  ┌─────────────────────────────────┐  │
│  │  스타터 팩   500 크레딧  4,900원 │  │
│  │  베이직 팩  1,200 크레딧 9,900원 │  │
│  │  프로 팩   3,000 크레딧 19,900원 │  │
│  │  비즈니스팩 10,000     49,900원  │  │
│  └─────────────────────────────────┘  │
│                                       │
│  ┌─────────────┐  ┌────────┐         │
│  │ 크레딧 충전  │  │ 나중에  │         │
│  └─────────────┘  └────────┘         │
└───────────────────────────────────────┘
```

---

# 13. 화면 설계 - 채널 관리 (`/channels`)

## 13.1 채널 관리 화면

| 항목 | 상세 |
|------|------|
| 연동된 채널 카드 | 플랫폼 아이콘 + 채널명 + 구독자수 + 연동일 + [연동 해제] |
| 토큰 상태 표시 | 정상(초록), 만료 임박(노랑), 만료됨(빨강) → 재연동 유도 |
| 새 채널 연동 | 플랫폼 선택 → OAuth → 권한 동의 → 완료 |
| 정보 갱신 | 구독자수, 프로필 이미지 24h 자동 갱신 + 수동 버튼 |
| 연동 해제 | 확인 모달: "연동 해제 시 해당 플랫폼 업로드/분석이 중단됩니다" |
| 플랜 제한 | 연동 가능 플랫폼 수 초과 시 업그레이드 유도 |

---

# 14. 화면 설계 - 구독/결제/AI 크레딧 (`/subscription`)

## 14.1 구독 관리 화면

| 섹션 | 내용 |
|------|------|
| 현재 플랜 카드 | 플랜명, 가격, 다음 결제일, 남은 업로드 횟수, [플랜 변경] [구독 취소] |
| AI 크레딧 섹션 | 잔여 크레딧 / 월 무료 크레딧, 프로그레스바, [크레딧 충전] 버튼 |
| 크레딧 사용 내역 | 날짜 \| 기능 \| 소모 크레딧 \| 잔여 — 테이블 (최근 30일) |
| 플랜 비교 표 | 4개 플랜 나란히 비교, 현재 플랜 하이라이트 |
| 결제 수단 | 등록된 카드, 변경/추가 버튼 |
| 결제 이력 | 날짜 \| 항목(구독/크레딧) \| 금액 \| 상태 \| 영수증 |

## 14.2 AI 크레딧 충전 플로우

1. `[크레딧 충전]` 버튼 클릭
2. 충전 패키지 선택 모달 (4개 패키지 카드)
3. 결제 수단 확인 (기존 카드 또는 새 카드 등록)
4. 결제 처리 (PG사: 토스페이먼츠 또는 포트원)
5. 결제 완료 → 크레딧 즉시 충전 → Top Bar 갱신
6. 결제 실패 시: 에러 메시지 + 재시도 안내

## 14.3 구독 변경/취소 정책

| 시나리오 | 처리 |
|---------|------|
| 업그레이드 | 즉시 적용, 잔여 기간 일할 계산 차액 결제 |
| 다운그레이드 | 현재 결제 기간 종료 후 적용, 초과 데이터 읽기 전용 |
| 구독 취소 | 현재 기간까지 사용, 이후 Free 전환 |
| Free 전환 시 | 1개 플랫폼만 유지, 영상 보관 1GB 초과분 60일 후 삭제 |
| 미결제 | 3일 유예 → 이메일 알림 → 7일 후 Free 전환 |
| 크레딧 유효기간 | 패키지별 적용, 만료 7일 전 알림 |

---

# 15. 화면 설계 - 설정 (`/settings`)

## 15.1 설정 화면

| 탭 | 항목 | 설명 |
|----|------|------|
| 프로필 | 닉네임, 프로필 이미지, 카테고리 | 수정 후 저장 |
| 프로필 | 이메일, 소셜 계정 | 읽기 전용 |
| 알림 | 업로드 완료/실패 | 이메일/카카오톡/푸시 토글 |
| 알림 | 댓글 알림 | 실시간/1시간/일별 요약 선택 |
| 알림 | 크레딧 잔여 알림 | 임계값 설정 (기본 20%) |
| 알림 | 예약 리마인더 | 1시간 전 / 30분 전 토글 |
| 기본 설정 | 기본 공개 설정 | 공개/비공개/미등록 기본값 |
| 기본 설정 | 기본 업로드 플랫폼 | 항상 선택될 플랫폼 체크 |
| 기본 설정 | AI 기본 톤 | 친근/전문/유머 중 기본 선택 |
| 계정 | 회원 탈퇴 | 모든 데이터 삭제 확인 후 처리 |

---

# 16. 시스템 아키텍처

## 16.1 전체 구성도

```
┌─────────────────────────────────────────────────────────┐
│                    Client Layer                          │
│  ┌──────────┐  ┌──────────┐  ┌──────────────────────┐  │
│  │ Web App  │  │ Mobile   │  │ Chrome Extension     │  │
│  │ (Vue.js) │  │ (Flutter)│  │ (업로드 단축)         │  │
│  └────┬─────┘  └────┬─────┘  └──────────┬───────────┘  │
│       └──────────────┴───────────────────┘              │
└──────────────────────┬──────────────────────────────────┘
                       │ HTTPS / WebSocket
┌──────────────────────┴──────────────────────────────────┐
│              Nginx (SSL / Rate Limit / LB)               │
└──────────────────────┬──────────────────────────────────┘
┌──────────────────────┴──────────────────────────────────┐
│         Application Server (Spring Boot 4.0.2)           │
│  ┌──────────┐ ┌──────────┐ ┌──────────┐ ┌───────────┐  │
│  │ Upload   │ │ Schedule │ │ Analytics│ │ Spring AI │  │
│  │ Module   │ │ Module   │ │ Module   │ │ Module    │  │
│  └──────────┘ └──────────┘ └──────────┘ └───────────┘  │
│  ┌──────────┐ ┌──────────┐ ┌──────────┐ ┌───────────┐  │
│  │ Auth     │ │ Comment  │ │ Payment  │ │ Credit    │  │
│  │ Module   │ │ Module   │ │ Module   │ │ Module    │  │
│  └──────────┘ └──────────┘ └──────────┘ └───────────┘  │
│  ┌─────────────────────────────────────────────────┐    │
│  │  Caffeine Cache │ Spring Events │ Virtual Thread│    │
│  └─────────────────────────────────────────────────┘    │
└───────┬──────────┬───────────┬──────────────────────────┘
        │          │           │
┌───────┴────┐ ┌───┴─────┐ ┌──┴──────────────────┐
│PostgreSQL  │ │ MinIO   │ │ AI Provider API     │
│16 + jOOQ   │ │ / S3    │ │ (Anthropic/OpenAI)  │
└────────────┘ └─────────┘ └─────────────────────┘
```

## 16.2 모듈 구조 (Clean Architecture)

```
onGo/
├── onGo-api/              # Presentation Layer (Controller)
│   ├── upload/, schedule/, analytics/, auth/
│   ├── ai/                   # AI 관련 Controller
│   └── payment/              # 결제/크레딧 Controller
├── onGo-application/      # Application Layer (UseCase)
│   ├── upload/               # UploadVideoUseCase
│   ├── ai/                   # GenerateMetaUseCase, GenerateReplyUseCase
│   ├── credit/               # CreditDeductUseCase, CreditChargeUseCase
│   └── event/                # Spring ApplicationEvent 핸들러
│       ├── VideoUploadedEvent.java
│       └── VideoUploadedEventListener.java
├── onGo-domain/           # Domain Layer (Entity, Repository Interface)
│   ├── video/, channel/, user/, analytics/
│   ├── credit/               # AiCredit, CreditTransaction
│   └── subscription/         # Subscription, Plan
├── onGo-infrastructure/   # Infrastructure Layer
│   ├── persistence/jooq/     # jOOQ Repository 구현체 (전체 DB 접근)
│   │   ├── VideoJooqRepository.java
│   │   ├── CreditJooqRepository.java
│   │   └── AnalyticsJooqRepository.java
│   ├── external/             # @HttpExchange 기반 Platform Client
│   │   ├── youtube/, tiktok/, instagram/, naverclip/
│   ├── ai/                   # Spring AI ChatClient 설정
│   ├── storage/              # MinIO/S3 Client
│   ├── payment/              # PG사 연동 (토스페이먼츠)
│   └── cache/                # Caffeine 설정
└── onGo-common/           # Shared utilities
```

## 16.3 아키텍처 원칙

> **💡 원칙**: Phase 1은 Modular Monolith로 시작합니다. Spring Boot 4.0의 모듈화 아키텍처를 활용하고, Redis/RabbitMQ 없이 Caffeine Cache + Spring Events + Virtual Thread로 경량화합니다. 외부 의존성을 최소화해 운영 복잡도를 낮추고, 트래픽 증가 시점에 필요한 인프라만 점진적으로 도입합니다.

---

# 17. 데이터베이스 설계

## 17.1 핵심 테이블

| 테이블 | 설명 | 주요 컬럼 |
|--------|------|----------|
| `users` | 사용자 | id, email, name, plan_type, created_at |
| `channels` | 연동 채널 | user_id, platform, channel_id, access_token(암호화) |
| `videos` | 업로드 영상 | user_id, title, file_url, thumbnail_url, status |
| `video_uploads` | 플랫폼별 업로드 | video_id, platform, status, platform_video_id |
| `schedules` | 예약 업로드 | video_id, scheduled_at, platforms(jsonb) |
| `analytics_daily` | 일별 성과 (파티셔닝) | video_upload_id, date, views, likes, comments, revenue |
| `ai_credits` | 사용자별 크레딧 잔액 | user_id, balance, free_remaining, free_reset_date |
| `ai_credit_transactions` | 크레딧 사용/충전 내역 | user_id, type, amount, feature, created_at |
| `ai_purchased_credits` | 구매 크레딧 (유효기간별) | user_id, remaining, expires_at, status |
| `subscriptions` | 구독 정보 | user_id, plan, status, next_billing |
| `payments` | 결제 이력 | user_id, type(subscription/credit), amount |
| `comments` | 통합 댓글 (Phase 2) | video_upload_id, platform, author, content |

## 17.2 AI 크레딧 DDL

```sql
-- AI 크레딧 잔액 테이블
CREATE TABLE ai_credits (
    id              BIGSERIAL PRIMARY KEY,
    user_id         BIGINT REFERENCES users(id) UNIQUE,
    balance         INTEGER NOT NULL DEFAULT 0,
    free_monthly    INTEGER NOT NULL DEFAULT 30,
    free_remaining  INTEGER NOT NULL DEFAULT 30,
    free_reset_date DATE NOT NULL,
    created_at      TIMESTAMP DEFAULT NOW(),
    updated_at      TIMESTAMP DEFAULT NOW()
);

-- 크레딧 트랜잭션 내역
CREATE TABLE ai_credit_transactions (
    id              BIGSERIAL PRIMARY KEY,
    user_id         BIGINT REFERENCES users(id),
    type            VARCHAR(20) NOT NULL,  -- DEDUCT, CHARGE, FREE_RESET
    amount          INTEGER NOT NULL,      -- 양수:충전, 음수:차감
    balance_after   INTEGER NOT NULL,
    feature         VARCHAR(50),           -- meta_gen, hashtag, stt, reply 등
    reference_id    BIGINT,                -- 관련 영상/댓글 ID
    created_at      TIMESTAMP DEFAULT NOW()
);

-- 구매 크레딧 (유효기간 관리)
CREATE TABLE ai_purchased_credits (
    id              BIGSERIAL PRIMARY KEY,
    user_id         BIGINT REFERENCES users(id),
    package_name    VARCHAR(50) NOT NULL,
    total_credits   INTEGER NOT NULL,
    remaining       INTEGER NOT NULL,
    price           INTEGER NOT NULL,
    purchased_at    TIMESTAMP DEFAULT NOW(),
    expires_at      TIMESTAMP NOT NULL,
    status          VARCHAR(20) DEFAULT 'ACTIVE'  -- ACTIVE, EXPIRED, EXHAUSTED
);

-- 인덱스
CREATE INDEX idx_credits_user ON ai_credits(user_id);
CREATE INDEX idx_credit_tx_user_date ON ai_credit_transactions(user_id, created_at DESC);
CREATE INDEX idx_purchased_user_active ON ai_purchased_credits(user_id, status, expires_at);
```

### 크레딧 차감 순서

1. **무료 크레딧** 먼저 차감 (매월 1일 리셋)
2. **구매 크레딧** 차감 (만료 임박순 - `expires_at ASC`)
3. 모두 소진 시 → `InsufficientCreditException` → 충전 모달

## 17.3 핵심 인덱스

| 테이블 | 인덱스 | 용도 |
|--------|--------|------|
| `videos` | `user_id + created_at DESC` | 사용자별 영상 목록 |
| `video_uploads` | `video_id + platform` | 영상별 플랫폼 조회 |
| `video_uploads` | `status` (partial) | 업로드 큐 처리 |
| `analytics_daily` | `video_upload_id + date` | 영상별 일별 성과 |
| `schedules` | `scheduled_at + status` | 예약 스케줄러 조회 |
| `ai_credits` | `user_id` (UNIQUE) | 크레딧 잔액 조회 |

## 17.4 로컬 개발 환경 구성 (Docker)

로컬 개발 시 PostgreSQL 16을 빠르고 일관되게 사용하기 위해 Docker Compose 사용을 권장합니다.

### 17.4.1 Docker Compose 설정 (`docker-compose.yml`)

프로젝트 루트 디렉토리에 다음 내용으로 `docker-compose.yml` 파일을 작성합니다.

```yaml
version: '3.8'

services:
  postgres:
    image: postgres:16
    container_name: ongo-postgres
    restart: always
    environment:
      POSTGRES_USER: ongo_user
      POSTGRES_PASSWORD: ongo_password
      POSTGRES_DB: ongo_db
    ports:
      - "5432:5432"
    volumes:
      - postgres_data:/var/lib/postgresql/data

volumes:
  postgres_data:
```

### 17.4.2 데이터베이스 실행 및 중지

```bash
# 데이터베이스 컨테이너 백그라운드 실행
docker-compose up -d

# 데이터베이스 컨테이너 중지 및 제거
docker-compose down
```

### 17.4.3 접속 정보

| 항목 | 값 |
|------|------|
| Host | `localhost` |
| Port | `5432` |
| Username | `ongo_user` |
| Password | `ongo_password` |
| Database | `ongo_db` |

---

# 18. API 설계

## 18.1 전체 엔드포인트

### 인증

| Method | Endpoint | 설명 |
|--------|----------|------|
| POST | `/api/v1/auth/login/{provider}` | 소셜 로그인 (google/kakao) |
| POST | `/api/v1/auth/refresh` | 토큰 갱신 |

### 채널 관리

| Method | Endpoint | 설명 |
|--------|----------|------|
| GET | `/api/v1/channels` | 연동 채널 목록 |
| POST | `/api/v1/channels/connect/{platform}` | 채널 OAuth 연동 |
| DELETE | `/api/v1/channels/{id}` | 채널 연동 해제 |

### 영상 관리

| Method | Endpoint | 설명 |
|--------|----------|------|
| POST | `/api/v1/videos/upload` | 영상 업로드 (Tus) |
| POST | `/api/v1/videos/{id}/publish` | 멀티플랫폼 동시 게시 |
| GET | `/api/v1/videos` | 영상 목록 (페이징+필터) |
| GET | `/api/v1/videos/{id}` | 영상 상세 (플랫폼별 성과) |
| DELETE | `/api/v1/videos/{id}` | 영상 삭제 |

### 예약 관리

| Method | Endpoint | 설명 |
|--------|----------|------|
| POST | `/api/v1/schedules` | 예약 등록 |
| GET | `/api/v1/schedules` | 예약 목록 (캘린더) |
| PUT | `/api/v1/schedules/{id}` | 예약 수정 |
| DELETE | `/api/v1/schedules/{id}` | 예약 취소 |

### 분석

| Method | Endpoint | 설명 |
|--------|----------|------|
| GET | `/api/v1/analytics/dashboard` | 대시보드 KPI |
| GET | `/api/v1/analytics/videos/{id}` | 영상별 성과 |
| GET | `/api/v1/analytics/trends` | 트렌드 차트 데이터 |
| GET | `/api/v1/analytics/heatmap` | 업로드 시간 히트맵 |

### AI (크레딧 소모)

| Method | Endpoint | 설명 | 크레딧 |
|--------|----------|------|--------|
| POST | `/api/v1/ai/generate-meta` | AI 제목/설명/태그 생성 | **5** |
| POST | `/api/v1/ai/generate-hashtags` | AI 해시태그 추천 | **3** |
| POST | `/api/v1/ai/stt` | 영상 STT 변환 | **10** |
| POST | `/api/v1/ai/analyze-script` | 스크립트 분석 | **5** |
| POST | `/api/v1/ai/generate-reply` | 댓글 답변 생성 | **2** |
| POST | `/api/v1/ai/suggest-schedule` | 업로드 시간 추천 | **3** |
| POST | `/api/v1/ai/generate-ideas` | 콘텐츠 아이디어 | **5** |
| POST | `/api/v1/ai/generate-report` | 성과 리포트 | **8** |

### 크레딧/결제

| Method | Endpoint | 설명 |
|--------|----------|------|
| GET | `/api/v1/credits` | 잔여 크레딧 조회 |
| GET | `/api/v1/credits/transactions` | 크레딧 사용 내역 |
| POST | `/api/v1/credits/purchase` | 크레딧 충전 결제 |
| GET | `/api/v1/subscriptions/current` | 현재 구독 정보 |
| POST | `/api/v1/subscriptions/change` | 플랜 변경 |
| POST | `/api/v1/subscriptions/cancel` | 구독 취소 |
| GET | `/api/v1/payments/history` | 결제 이력 |

## 18.2 API 응답 표준 포맷

백엔드와 프론트엔드 연동 시 일관된 데이터 처리를 위해 `ResData` 공통 레이아웃을 사용합니다.

### 18.2.1 백엔드 (Kotlin)

`onGo-common` 모듈에 정의된 `ResData` 클래스를 사용하여 모든 API 응답을 래핑합니다.

```kotlin
package com.tigerbk.doberman.common

import lombok.*
import org.springframework.http.ResponseEntity

data class ResData<T>(
    var success: Boolean = true,
    val message: String? = null,
    var data: T? = null,
    val error: String? = null,
) {
    companion object {
        fun <T> success(data: T): ResponseEntity<ResData<T>> = 
            ResponseEntity.ok(ResData(success = true, data = data))

        fun <T> success(data: T, msg: String): ResponseEntity<ResData<T>> = 
            ResponseEntity.ok(ResData(success = true, data = data, message = msg))

        fun fail(msg: String): ResponseEntity<ResData<Nothing>> = 
            ResponseEntity.ok(ResData(success = false, error = msg))

        fun error(msg: String): ResponseEntity<ResData<Nothing>> = 
            ResponseEntity.ok(ResData(success = false, error = msg))

        fun <T> fail(data: T, msg: String): ResponseEntity<ResData<T>> = 
            ResponseEntity.ok(ResData(success = false, data = data, error = msg))
    }
}
```

### 18.2.2 프론트엔드 (TypeScript 인터페이스)

프론트엔드에서는 다음과 같은 인터페이스를 기반으로 응답 데이터를 처리합니다.

```typescript
interface ResData<T> {
  success: boolean;
  message: string | null;
  data: T | null;
  error: string | null;
}
```

### 18.2.3 JSON 응답 예시

#### 성공 응답

```json
{
  "success": true,
  "message": "요청이 성공적으로 처리되었습니다.",
  "data": {
    "id": 1,
    "name": "onGo Project"
  },
  "error": null
}
```

#### 에러 응답

```json
{
  "success": false,
  "message": null,
  "data": null,
  "error": "인증 토큰이 만료되었습니다."
}
```

## 18.3 API 문서화 (Swagger UI)

onGo 프로젝트는 빠르고 정확한 API 개발 및 테스트를 위해 Swagger UI(OpenAPI 3.0)를 사용합니다.

### 18.3.1 접근 방법

로컬 서버가 실행 중인 상태에서 브라우저를 통해 다음 주소로 접속합니다.

- **URL**: `http://localhost:8777/swagger-ui.html` (또는 `/swagger-ui/index.html`)

### 18.3.2 주요 기능

1. **API 테스트**: 서버에 직접 요청을 보내고 응답 결과를 실시간으로 확인할 수 있습니다.
2. **스키마 정의**: 각 API의 요청(Request Body) 및 응답(Response Body) 데이터 구조를 시각적으로 확인합니다.
3. **인증 지원**: 상단 `Authorize` 버튼을 통해 JWT 토큰을 설정하고 보안이 적용된 API를 테스트할 수 있습니다.

### 18.3.3 라이브러리 설정

`onGo-api` 모듈에서 `springdoc-openapi-starter-webmvc-ui` 라이브러리를 통해 자동 생성됩니다.

---

---

# 19. Spring AI 통합 설계

## 19.1 구성

| 항목 | 설정 |
|------|------|
| Spring AI 버전 | 2.x (Spring Boot 4.0 호환) |
| 기본 Provider | Anthropic Claude (Sonnet 4.5) |
| 보조 Provider | OpenAI (STT: Whisper API) |
| ChatClient | `ChatClient.builder()` + Structured Output |
| Rate Limit | 사용자당 분당 10회 AI 요청 (Bucket4j) |
| Fallback | Provider 장애 시 자동 전환 |
| 비용 관리 | 호출당 토큰 사용량 로깅 + 크레딧 차감 |

## 19.2 핵심 구현 패턴

```java
// Spring AI ChatClient 기반 제목 생성 UseCase
@Service
public class GenerateMetaUseCase {

    private final ChatClient chatClient;
    private final CreditService creditService;
    private static final int REQUIRED_CREDITS = 5;

    public MetaGenerationResult generate(Long userId, MetaRequest req) {
        // 1. 크레딧 확인 + 차감 (FOR UPDATE 비관적 락)
        creditService.validateAndDeduct(userId, REQUIRED_CREDITS, "meta_gen");

        // 2. Spring AI ChatClient 호출 (Structured Output)
        MetaGenerationResult result = chatClient.prompt()
            .system("""
                당신은 한국 콘텐츠 크리에이터 전문가입니다.
                주어진 영상 스크립트를 분석하여 각 플랫폼에 최적화된
                제목 5개, 설명, 해시태그 30개를 JSON으로 생성하세요.
                플랫폼별 글자수 제한: YouTube 100자, TikTok 150자,
                Instagram 2200자, Naver 100자.
                """)
            .user(req.getScript())
            .call()
            .entity(MetaGenerationResult.class);  // 구조화 출력

        return result;
    }
}

// 구조화 출력 DTO (Spring AI Structured Output)
public record MetaGenerationResult(
    List<PlatformMeta> platforms
) {
    public record PlatformMeta(
        String platform,
        List<String> titleCandidates,  // 5개
        String description,
        List<String> hashtags          // 30개
    ) {}
}
```

## 19.3 크레딧 차감 서비스

```java
@Service
@Transactional
public class CreditService {

    private final DSLContext dsl;  // jOOQ

    public void validateAndDeduct(Long userId, int amount, String feature) {
        // 1. 비관적 락으로 크레딧 조회
        AiCreditsRecord credit = dsl.selectFrom(AI_CREDITS)
            .where(AI_CREDITS.USER_ID.eq(userId))
            .forUpdate()
            .fetchOne();

        if (credit == null) throw new CreditNotFoundException();

        // 2. 무료 크레딧 우선 차감
        int remaining = amount;
        if (credit.getFreeRemaining() > 0) {
            int freeDeduct = Math.min(credit.getFreeRemaining(), remaining);
            credit.setFreeRemaining(credit.getFreeRemaining() - freeDeduct);
            remaining -= freeDeduct;
        }

        // 3. 구매 크레딧 차감 (만료 임박순)
        if (remaining > 0) {
            List<AiPurchasedCreditsRecord> purchased = dsl
                .selectFrom(AI_PURCHASED_CREDITS)
                .where(AI_PURCHASED_CREDITS.USER_ID.eq(userId))
                .and(AI_PURCHASED_CREDITS.STATUS.eq("ACTIVE"))
                .and(AI_PURCHASED_CREDITS.REMAINING.gt(0))
                .orderBy(AI_PURCHASED_CREDITS.EXPIRES_AT.asc())  // 만료 임박순
                .forUpdate()
                .fetch();

            for (var pkg : purchased) {
                if (remaining <= 0) break;
                int deduct = Math.min(pkg.getRemaining(), remaining);
                pkg.setRemaining(pkg.getRemaining() - deduct);
                if (pkg.getRemaining() == 0) pkg.setStatus("EXHAUSTED");
                pkg.store();
                remaining -= deduct;
            }
        }

        // 4. 부족 시 예외
        if (remaining > 0) {
            throw new InsufficientCreditException(amount, calculateTotalBalance(userId));
        }

        // 5. 총 잔액 갱신 + 트랜잭션 기록
        int newBalance = credit.getFreeRemaining() + getTotalPurchased(userId);
        credit.setBalance(newBalance);
        credit.setUpdatedAt(LocalDateTime.now());
        credit.store();

        dsl.insertInto(AI_CREDIT_TRANSACTIONS)
            .set(AI_CREDIT_TRANSACTIONS.USER_ID, userId)
            .set(AI_CREDIT_TRANSACTIONS.TYPE, "DEDUCT")
            .set(AI_CREDIT_TRANSACTIONS.AMOUNT, -amount)
            .set(AI_CREDIT_TRANSACTIONS.BALANCE_AFTER, newBalance)
            .set(AI_CREDIT_TRANSACTIONS.FEATURE, feature)
            .execute();
    }
}
```

## 19.4 Spring AI 비동기 업로드 이벤트 처리

```java
// 비동기 업로드 이벤트 (RabbitMQ 대체)
@Component
public class VideoUploadEventListener {

    private final List<PlatformClient> platformClients;

    @Async  // Virtual Thread에서 실행
    @EventListener
    public void handleUpload(VideoPublishEvent event) {
        for (Platform platform : event.getTargetPlatforms()) {
            PlatformClient client = getClient(platform);
            try {
                UploadResult result = client.uploadVideo(event.getRequest());
                updateUploadStatus(event.getVideoId(), platform, "PUBLISHED", result);
            } catch (Exception e) {
                updateUploadStatus(event.getVideoId(), platform, "FAILED", e.getMessage());
            }
        }
    }
}
```

---

# 20. 보안 설계

## 20.1 인증/인가

| 구분 | 방식 | 상세 |
|------|------|------|
| 사용자 인증 | 소셜 OAuth 2.0 | Google, Kakao |
| API 인증 | JWT (Access + Refresh) | Access 30분, Refresh 7일 |
| 플랫폼 토큰 | AES-256 암호화 저장 | DB 암호화 컬럼 |
| AI API 키 | 서버 환경변수 | 클라이언트 노출 절대 불가 |
| 결제 보안 | PG사 토큰 방식 | 카드 정보 서버 미저장 |

## 20.2 보안 체크리스트

| 영역 | 대책 | 시기 |
|------|------|------|
| HTTPS | 전 구간 TLS 1.3 (AWS ACM) | Phase 1 |
| CORS | 허용 도메인 화이트리스트 | Phase 1 |
| Rate Limit | Bucket4j + Caffeine (IP/유저별) | Phase 1 |
| SQL Injection | jOOQ 타입세이프 쿼리 (바인딩 자동) | Phase 1 |
| XSS | 입력값 sanitize + CSP 헤더 | Phase 1 |
| 파일 업로드 | 확장자/MIME/크기 이중 검증 | Phase 1 |
| 크레딧 보안 | 차감 시 비관적 락(FOR UPDATE), 동시성 제어 | Phase 1 |
| 로깅 | 민감정보 마스킹 (토큰, 이메일 등) | Phase 1 |
| 감사 로그 | 관리자 작업 전체 기록 | Phase 2 |

---

# 21. 인프라 및 배포

## 21.1 Phase별 인프라

| 구분 | Phase 1 (0~1만) | Phase 2 (1~5만) | Phase 3 (5만+) |
|------|----------------|----------------|---------------|
| App Server | EC2 t3.large x1 | EC2 t3.xlarge x2 | ECS Fargate (Auto Scale) |
| Database | RDS t3.medium (PostgreSQL) | RDS r6g.large + Read Replica | Aurora PostgreSQL |
| Cache | Caffeine (In-Process) | Caffeine + DB L2 Cache | Redis 전환 검토 |
| Storage | S3 Standard | S3 + CloudFront CDN | S3 + CF + Lifecycle |
| 비동기 | Spring Events + VT | Spring Events + VT | SQS 전환 검토 |
| AI | Spring AI → API 직접 | + 응답 캐싱 강화 | + 비용 최적화 |
| 월 비용 | **약 25~45만원** | **약 90~130만원** | **약 280~450만원** |

## 21.2 CI/CD 파이프라인

```
1. Code Push (GitHub)
   │
2. Build & Test
   ├── Gradle 9 Build (Spring Boot 4.0.2)
   ├── jOOQ Code Generation (DB Schema → Java)
   ├── npm build (Vue.js)
   └── Unit Test + Integration Test + AI Mock Test
   │
3. Code Quality
   ├── SonarQube Analysis
   └── Security Scan (OWASP)
   │
4. Docker Build
   ├── Backend Image (JDK 25 slim)
   └── Frontend Image (Nginx)
   │
5. Deploy
   ├── Staging (Auto)
   └── Production (Manual Approval)
   │
6. Health Check + Smoke Test
```

## 21.3 도메인 구성

| 도메인 | 용도 |
|--------|------|
| `onGo.kr` | 메인 웹 앱 |
| `api.onGo.kr` | Backend API |
| `admin.onGo.kr` | 관리자 대시보드 |
| SSL | AWS ACM 인증서 (무료) |

## 21.4 백업 전략

| 대상 | 주기 | 보관 | 방식 |
|------|------|------|------|
| PostgreSQL | 매일 02:00 | 30일 | RDS 자동 스냅샷 |
| 영상 파일 | 실시간 | 영구 | S3 Cross-Region Replication |
| 설정 파일 | 변경 시 | Git 이력 | GitHub + Vault |
| jOOQ 스키마 | 마이그레이션 시 | Git 이력 | Flyway + GitHub |

---

# 22. 개발 로드맵

## 22.1 Phase 1: MVP (12주)

| 주차 | 마일스톤 | 산출물 |
|------|---------|--------|
| 1~2주 | 프로젝트 셋업 | Spring Boot 4 + jOOQ + Gradle 9 + DB 스키마 + CI/CD |
| 3~4주 | 인증 + 채널 연동 | 소셜 로그인 (Google/Kakao) + YouTube/TikTok OAuth |
| 5~6주 | 영상 업로드 코어 | Tus 업로드 + YouTube 게시 + 상태 관리 |
| 7~8주 | 멀티플랫폼 확장 | TikTok/Instagram/Naver 업로드 추가 |
| 9~10주 | AI + 크레딧 | Spring AI 연동 + 크레딧 시스템 + 충전 결제 |
| 11주 | 대시보드 + 분석 | 통합 대시보드 + 예약 캘린더 UI |
| 12주 | 테스트 + 런칭 | QA + 결제 연동(토스) + 베타 런칭 (50명) |

## 22.2 Phase 2: 성장 (12주)

| 주차 | 마일스톤 |
|------|---------|
| 13~15주 | 통합 댓글/DM 관리 + AI 댓글 답변 |
| 16~18주 | 고급 분석 + AI 인사이트 리포트 + A/B 테스트 |
| 19~21주 | 팀 기능 + Naver Clip 완전 지원 |
| 22~24주 | 성과 리포트 자동화 + 크레딧 구독형 패키지 |

## 22.3 Phase 3: 확장 (24주)

| 주차 | 마일스톤 |
|------|---------|
| 25~30주 | AI 콘텐츠 캘린더 + 트렌드 알림 |
| 31~36주 | 영상 커머스 연동 (쿠팡파트너스/스마트스토어) |
| 37~42주 | 수익 통합 관리 |
| 43~48주 | 크리에이터 마켓 (협찬 매칭) |

---

# 23. 수익 모델

## 23.1 이중 수익 구조

> **💡 onGo는 기본 구독(플랫폼 기능) + AI 크레딧 추가 과금**의 이중 수익 모델입니다. 기본 구독만으로도 충분히 사용 가능하지만, AI를 적극 활용하는 사용자의 ARPU를 높입니다.

| 수익원 | 비중 (목표) | 설명 |
|--------|-----------|------|
| 기본 구독 (Starter~Business) | 60% | 월 9,900~49,900원 |
| AI 크레딧 추가 구매 | 30% | 4,900~49,900원/패키지 |
| 연간 구독 선결제 | 10% | 17% 할인 → 연 결제 유도 |

## 23.2 수익 시뮬레이션 (1년차)

| 월 | 유료 사용자 | 구독 MRR | 크레딧 MRR | 총 MRR |
|----|-----------|---------|-----------|--------|
| 1~3월 | 50명 | 50만원 | 15만원 | **65만원** |
| 4~6월 | 200명 | 260만원 | 80만원 | **340만원** |
| 7~9월 | 500명 | 700만원 | 250만원 | **950만원** |
| 10~12월 | 1,000명 | 1,400만원 | 500만원 | **1,900만원** |

> **⚠️ 1년차 ARR 목표: 약 1.5억원** (구독 1억 + AI 크레딧 5천만원)
> 유료 사용자 1,000명 = 활성 크리에이터 50만의 0.2%, 크레딧 구매율 40% 기준

---

# 24. 마케팅 전략

## 24.1 초기 사용자 확보 (0 ~ 1,000명)

| 채널 | 전략 | 비용 |
|------|------|------|
| 유튜브 | onGo 사용법 튜토리얼 시리즈 (직접 제작) | 0원 |
| 크리에이터 커뮤니티 | DC갤/에펨코리아/유튜브 카페 입소문 | 0원 |
| 베타 프로그램 | 중형 크리에이터 50명 6개월 Pro 무료 (리뷰+추천 조건) | ~100만원 |
| 블로그 SEO | 크리에이터 도구 비교글/가이드 30편+ | 0원 |
| Product Hunt | 글로벌 런칭 (한국 특화 강조) | 0원 |
| 추천 프로그램 | 추천인+피추천인 1개월 Pro 무료 + 500 AI 크레딧 | ~50만원 |

## 24.2 성장 엔진

| 전략 | 설명 |
|------|------|
| 추천 프로그램 | 양측 1개월 Pro + 500 크레딧, 바이럴 루프 |
| 중형 크리에이터 파트너십 | 구독자 5~50만 크리에이터 10팀 장기 파트너 |
| 주간 뉴스레터 | 크리에이터 트렌드 + 팁 + onGo 활용법 |
| onGo 뱃지 | 영상 설명란에 "Powered by onGo" 링크 삽입 유도 |
| 월간 크리에이터 어워드 | onGo 사용자 중 성장률 1위 크리에이터 시상 |

---

# 25. 운영/모니터링

## 25.1 모니터링 스택

| 도구 | 용도 |
|------|------|
| Prometheus + Grafana | 서버/앱 메트릭, 대시보드 |
| Loki | 로그 수집/검색 |
| Sentry | 에러 트래킹 (프론트+백) |
| UptimeRobot | 서비스 가용성 모니터링 |
| **AI 비용 대시보드** | Spring AI 호출 횟수/토큰/비용 실시간 추적 |

## 25.2 핵심 지표 + 임계값

| 지표 | 임계값 | 대응 |
|------|--------|------|
| API P95 응답시간 | > 2초 | 쿼리 최적화 / 캐싱 강화 |
| 에러율 | > 1% | 즉시 조사 + 롤백 |
| 업로드 실패율 | > 5% | 플랫폼 API 상태 확인 |
| AI 호출 실패율 | > 3% | Provider Fallback 전환 |
| AI 월 비용 | > 예산 120% | 크레딧 단가 조정 검토 |
| 결제 실패율 | > 3% | PG사 상태 + 유저 알림 |
| CPU 사용률 | > 80% | 스케일업 또는 최적화 |
| 크레딧 구매율 | < 20% | AI 기능 가치 홍보 강화 |

---

# 26. 리스크 관리

## 26.1 기술 리스크

| 리스크 | 확률 | 영향 | 대응 |
|--------|------|------|------|
| 플랫폼 API 정책 변경 | 높음 | 높음 | PlatformClient 인터페이스 추상화, 빠른 대응 체계 |
| AI Provider 장애 | 중간 | 높음 | Anthropic↔OpenAI Fallback, Spring AI 멀티 Provider |
| AI 비용 급증 | 중간 | 중간 | 크레딧 단가에 마진 포함, 프롬프트 최적화, 응답 캐싱 |
| 영상 파일 용량 부담 | 높음 | 중간 | S3 Lifecycle + CDN, 보관 정책 플랜별 적용 |
| 서비스 장애 | 낮음 | 높음 | 무중단 배포, 자동 롤백, 헬스체크 |
| 개인정보 유출 | 낮음 | 매우높음 | 암호화, 접근 로그, 정기 감사 |

## 26.2 비즈니스 리스크

| 리스크 | 확률 | 영향 | 대응 |
|--------|------|------|------|
| 경쟁사 한국 진출 | 중간 | 높음 | 한국 특화(네이버 클립, 카카오), AI 크레딧 가격 경쟁력 |
| 유료 전환율 저조 | 중간 | 높음 | Free 제한 강화, AI 체험으로 가치 체감 유도 |
| AI 크레딧 구매율 저조 | 중간 | 중간 | 무료 크레딧 체험 → AI 결과 품질 지속 개선 → 자연 전환 |
| 1인 개발 번아웃 | 높음 | 높음 | MVP 최소화, 자동화 극대화, AI 활용 개발 |
| 자금 부족 | 중간 | 높음 | 최소 비용 운영, 부트스트래핑, 크레딧 매출로 AI 비용 커버 |

---

# 부록: onGo 핵심 지표 요약

| 지표 | Phase 1 목표 | Phase 2 목표 |
|------|-------------|-------------|
| MAU | 1,000명 | 10,000명 |
| 유료 전환율 | 5% | 8% |
| AI 크레딧 구매율 | 30% | 40% |
| 월 업로드 건수 | 5,000건 | 50,000건 |
| MRR | 65만원 | 950만원 |
| ARPU (유료) | 13,000원 | 19,000원 |
| Churn Rate | < 8% | < 5% |
| NPS | > 30 | > 50 |

---

> **onGo** - 크리에이터의 시간을 되돌려주는 플랫폼  
> *Build with passion. Ship with confidence.*  
> Version 2.0 | 2026.02
